<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>ポケモン計算</title>
        <link rel="stylesheet" href="styles.css">
    </head>

    <body>

        <h1 class="title">ポケモン計算</h1>

        <div id="pokemonList">
            <div class="pokemon" id="pokemon-1">
                <img>　
                <h4>名前</h4>
                <p></p>　
            </div>
            <div class="pokemon" id="pokemon-2">
                <img>　
                <h4>体重</h4>
                <p></p>　
            </div>
            <div class="pokemon" id="pokemon-3">
                <img>　
                <h4>身長</h4>
                <p></p>　
            </div>
            <div class="pokemon" id="pokemon-4">
                <img>　
                <h4>番号</h4>
                <p></p>　
            </div>
        </div>

        <div>
            <button onclick="consultarPokemones()">
                <p>はい</p>
            </button>
        </div>
    
        <script>
    
            let lists = document.getElementById("pokemonList")

            function consultarPokemones(){
              let pokeId = Math.round(Math.random() * 150)
              consultarPokemon(pokeId)
            }
            
            function consultarPokemon(pokeId){
              fetch(`https://pokeapi.co/api/v2/pokemon/${pokeId}`)
              .then(function (response){
                   response.json()
                   .then(function(pokemon){
                      createPokemon(pokemon, 1)
                      returnPokemon(pokemon, 2)
                      shinycreatePokemon(pokemon, 3)
                      shinyreturnPokemon(pokemon, 4)
                   })
              })
            }
            
            function createPokemon(pokemon, num){
                let item = lists.querySelector(`#pokemon-${num}`)
                let images = item.getElementsByTagName("img")[0] 
                images.setAttribute("src",pokemon.sprites.front_default)
                let numbers = item.getElementsByTagName("p")[0]
                numbers.textContent = pokemon.name
            }
            
            function returnPokemon(pokemon, num){
                let item = lists.querySelector(`#pokemon-${num}`)
                let images = item.getElementsByTagName("img")[0] 
                images.setAttribute("src",pokemon.sprites.back_default)
                let weight = item.getElementsByTagName("p")[0]
                weight.textContent = pokemon.weight
            
            }
            
            function shinycreatePokemon(pokemon, num){
                let item = lists.querySelector(`#pokemon-${num}`)
                let images = item.getElementsByTagName("img")[0] 
                images.setAttribute("src",pokemon.sprites.front_shiny)
                let height = item.getElementsByTagName("p")[0]
                height.textContent = pokemon.height 
            }
            
            function shinyreturnPokemon(pokemon, num){
                let item = lists.querySelector(`#pokemon-${num}`)
                let images = item.getElementsByTagName("img")[0] 
                images.setAttribute("src",pokemon.sprites.back_shiny)
                let zone = item.getElementsByTagName("p")[0]
                zone.textContent = pokemon.id
            }

        </script>

    </body>
</html>